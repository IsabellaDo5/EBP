{% extends "layout.html" %}

{% block title %}
  Editar registro
{% endblock %}

{% block content %}
<h3>Registrar un cliente nuevo</h3>
<input type="text" readonly class="form-control-plaintext" id="aviso" value="">

<form action="/add_cliente/" method="post" class="row g-3" style="margin-top: 2% !important;">
    {% csrf_token %}
    <!--PRIMERA FILA-->
    <div class="row">
        <!--NOMBRE-->
        <div class="col-sm-4">
            <div class="col-auto">
                <label for="staticEmail2" class="visually-hidden">Nombre</label>
                <input type="text" readonly class="form-control-plaintext" id="staticEmail2" value="Nombre">
            </div>
            <div class="col-auto">
                <label for="inputPassword2" class="visually-hidden"></label>
                <input type="text" name="nombre" class="form-control" id="inputNombre" value="" required autocomplete="off">
            </div>
        </div>
        
        <!--apellido-->
        <div class="col-sm-4">
            <div class="col-auto">
                <label for="staticEmail2" class="visually-hidden">Apellido</label>
                <input type="text" readonly class="form-control-plaintext" id="staticEmail2" value="Apellido">
            </div>
            <div class="col-auto">
                <label for="inputPassword2" class="visually-hidden"></label>
                <input type="text" name="apellido" class="form-control" id="inputApellido" value=""  autocomplete="off">
            </div>
        </div>
         
        <!--direccion-->
        <div class="col-sm-4">
            <div class="col-auto">
                <label for="staticEmail2" class="visually-hidden">Dirección </label>
                <input type="text" readonly class="form-control-plaintext" id="staticEmail2" value="Dirección">
            </div>
            <div class="col-auto">
                <label for="inputPassword2" class="visually-hidden"></label>
                <input type="text" name="direccion" class="form-control" id="inputDireccion" value="" autocomplete="off">
            </div>
        </div>

        <!--cedula-->
        <div class="col-sm-4">
            <div class="col-auto">
                <label for="staticEmail2" class="visually-hidden">Cedula</label>
                <input type="text" readonly class="form-control-plaintext" id="staticEmail2" value="Cedula">
            </div>
            <div class="col-auto">
                <label for="inputPassword2" class="visually-hidden"></label>
                <input type="text" name="cedula" class="form-control" id="inputCedula" value=""  autocomplete="off"  pattern="^\d{3}-\d{6}-\d{4}[A-Za-z]$" title="XXX-XXXXXX-XXXXY">
            </div>
        </div>

         <!--telefono-->
         <div class="col-sm-4">
            <div class="col-auto">      
                <label for="staticEmail2" class="visually-hidden">Telefono</label>
                <input type="text" readonly class="form-control-plaintext" id="staticEmail2" value="Telefono">
            </div>
            <div class="col-auto">
                <label for="inputPassword2" class="visually-hidden"></label>
                <input type="text" name="telefono" class="form-control" id="inputTelefono" value="" autocomplete="off"  pattern="^\d{8}$" title="XXXXYYYY">
            </div>
        </div>
    </div>             
    <button type="submit" class="btn btn-secondary">Guardar cliente</button>
</form>

<script>
    const aviso = document.getElementById('aviso');
    const nombre = document.getElementById('inputNombre');
    const apellido = document.getElementById('inputApellido');
    const direccion = document.getElementById('inputDireccion');
    const cedula = document.getElementById('inputCedula');
    const telefono = document.getElementById('inputTelefono');


    

    function revisarAtributosCliente(){
        if(nombre.value==""){
            aviso.value="Es necesario ingresar al menos un nombre."
        }
        else if(apellido.value=="" || direccion.value=="" || direccion.value=="" || cedula.value=="" || telefono.value==""){
            aviso.value="Este cliente no podrá realizar alquileres, complete los demas campos adecuadamente  para esto"
        }
        else{
            aviso.value=""
        }
    }

    setInterval(revisarAtributosCliente,10)

</script>
  {% endblock %}